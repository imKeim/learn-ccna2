## Топология

![](./assets/topology.png)

## Задачи

В этой лабораторной работе вы будете наблюдать состояния портов связующего дереваи наблюдать за процессом сходимости связующего дерева.

-   Описание операций и преимуществ протокола STP.

-   Объясните, как протокол связующего дерева предотвращает петли коммутации, обеспечивая при этом избыточность в коммутируемых сетях.

## Общие сведения и сценарий

В этом задании вы будете использовать Packet Tracer для наблюдения заработой протокола связующего дерева в простой коммутируемой сети, которая имеетизбыточные пути.

## Инструкции

### Часть 1. Наблюдение за экземпляром конвергентных связующих деревьев

**Шаг 1. Проверка связи**

Ping с PC1 на PC2 для проверки подключения между узлами. Эхо-запрос (ping) должен пройти успешно.

**Шаг 2. Просмотр состояния связующего дерева на каждом коммутаторе.**

Используйте команду **show spanning-tree vlan 1** для сбора информации о состоянии связующего дерева каждого коммутатора. Заполните следующую таблицу. Для целей действия учтите только сведения о магистральных портах Gigabit. Порты Fast Ethernet — это порты доступа, к которым подключены конечные устройства и которые не являются частью связующего дерева на основе межкоммутационной магистрали.

| Коммутатор | Порт | Статус (FWD, BLK...) | Корневой мост? |
|------------|------|----------------------|----------------|
| S1         | G0/1 |                      |                |
| S1         | G0/2 |                      |                |
| S2         | G0/1 |                      |                |
| S2         | G0/2 |                      |                |
| S3         | G0/1 |                      |                |
| S3         | G0/2 |                      |                |

Packet Tracer использует другой источник связи на одном из соединений между коммутаторами.

Вопросы:

Как вы думаете, что это индикатор канала означает?

**Введите ваш ответ здесь.**

Какой путь выберут кадры от PC1 до PC2?

**Введите ваш ответ здесь.**

Почему кадры не проходят через S3?

**Введите ваш ответ здесь.**

Почему связующее дерево помещало порт в блокирующее состояние?

**Введите ваш ответ здесь.**

### Часть 2. Наблюдение за сходимостью связующего дерева.

**Шаг 1. Удалите канал между S1 и S2.**

1.  Откройте окно интерфейса командной строки на коммутаторе S3 и выполните команду **show spanning-tree vlan 1**. Оставьте это окно открытым.

2.  Выберите инструмент удаления в строке меню и нажмите на кабель, соединяющий S1 и S2.

**Шаг 2. Наблюдайте сходимость связующего дерева.**

1.  Быстро вернитесь к командной строке CLI на коммутаторе S3 и выполните команду **show spanning-tree vlan 1** .

2.  Используйте клавишу со стрелкой вверх, чтобы отозвать команду **show spanning-tree vlan 1** и повторять ее до тех пор, пока оранжевая линия кабеля не загорится зеленым цветом. Проверьте индикатор состояния порта G0/2.

    Вопрос: Что произошло со статусом порта G0/2 во время этого процесса?

    **Введите ваш ответ здесь.**

    Вы наблюдали переход в состоянии порта, который происходит при переходе порта связующего дерева из состояния блокировки в состояние пересылки.

3.  Проверьте возможности подключения путем пинга с PC1 на PC2. Пинг должен пройти успешно.

    Существуют ли какие-либо порты, отображающие оранжевый индикатор связи, указывающий на то, что порт находится в состоянии связующего дерева, отличном от пересылки? Поясните свой ответ.

[Скачать файл Packet Tracer для локального запуска](./assets/5.1.9-lab.pka)
