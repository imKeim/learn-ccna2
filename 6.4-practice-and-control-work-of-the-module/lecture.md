# Практика и контрольная работа модуля EtherChannel

<!-- 6.4.1 -->
## Packet Tracer. Внедрение EtherChannel

Вам было поручено разработать реализацию EtherChannel для компании, которая хочет улучшить производительность магистральных каналов коммутатора. Вы попробуете несколько различных способов реализации каналов EtherChannel, чтобы оценить, что лучше для компании. Вы будете строить топологию, настраивать магистральные порты и реализовывать EtherChannels LACP и PAgP.

[Открыть описание в PDF](./assets/6.4.1-packet-tracer---implement-etherchannel_ru-RU.pdf)

[Скачать файл для Packet Tracer](./assets/6.4.1-packet-tracer---implement-etherchannel_ru-RU.pka)

<!-- 6.4.2 -->
## Лабораторная работа - Внедрение EtherChannel

В этой лабораторной работе вы выполните следующие задачи.

- Часть 1: Создание сети и настройка основных параметров устройства
- Часть 2: Создание сетей VLAN и назначение портов коммутатора
- Часть 3: Конфигурация магистрального канала стандарта 802.1Q между коммутаторами
- Часть 4: Внедрение и проверка EtherChannel между коммутаторами

[Открыть описание в PDF](./assets/6.4.2-lab---implement-etherchannel_ru-RU.pdf)


<!-- 6.4.3 -->
## Что я изучил в этом модуле?

**Принципы работы EtherChannel**

Для увеличения пропускной способности или избыточности между устройствами может быть подключено несколько каналов связи. Протокол STP блокирует резервные каналы во избежание образования петель коммутации. EtherChannel — это технология агрегации каналов, позволяющая создавать избыточные связи между устройствами, которые не будут блокироваться STP. EtherChannel группирует несколько физических каналов Ethernet вместе в один логический канал. Он используется для обеспечения отказоустойчивости, распределения нагрузки, увеличения пропускной способности и избыточности между коммутаторами, маршрутизаторами и серверами. При настройке EtherChannel создаётся виртуальный интерфейс, который называется агрегированный канал (port channel). EtherChannel имеет несколько преимуществ, а также некоторые ограничения при реализации. Etherchannel можно образовать путем согласования с использованием одного из двух протоколов, PAgP или LACP. Данные протоколы позволяют портам со сходными характеристиками образовывать каналы путем динамического согласования со смежными коммутаторами. Когда канал EtherChannel сконфигурирован с использованием проприетарного Cisco PAgP, пакеты PAgP отправляются между портами с поддержкой EtherChannel для согласования формирования канала. Режимы PAgP: On (Вкл), PAgP desirable (рекомендуемый) и PAgP auto (автоматический). LACP выполняет функцию, сходную с функциями PAgP для Cisco EtherChannel. Поскольку протокол LACP относится к стандарту IEEE, его можно использовать для упрощения работы с каналами EtherChannel в неоднородных средах. Режимы LACP: On (Вкл), LACP active (активный) и LACP passive (пассивный).

**Настройка EtherChannel**

При настройке EtherChannel рекомендуется соблюдать следующие инструкции и ограничения:

- **Поддержка Etherchannel** - Все интерфейсы Ethernet на всех модулях должны поддерживать EtherChannel; при этом не требуется, чтобы эти интерфейсы были физически смежными или находились на одном модуле.
- **Скорость и дуплекс** - Настройте все интерфейсы в EtherChannel для работы на одной скорости и в одном режиме дуплекса.
- **Совпадения режма канала** - Все интерфейсы в объединении EtherChannel должны быть назначены в один VLAN или настроены в качестве транкового канала.
- **Диапазон разрешенных VLAN** - EtherChannel поддерживает одинаковые разрешенные диапазоны сетей VLAN на всех интерфейсах в канале транкинга EtherChannel.

Настройка EtherChannel с использованием LACP выполняется в три этапа:

**Шаг 1.** Укажите интерфейсы, которые составляют группу EtherChannel, с помощью команды interface range режима глобальной конфигурации.

**Шаг 2.** Создайте интерфейс канала порта с помощью команды channel-group identifier mode active в режиме конфигурации диапазона интерфейса.

**Шаг 3.** Чтобы изменить настройки 2-го уровня на интерфейсе канала порта, перейдите в режим интерфейсной настройки канала порта с помощью команды interface port-channel, после которой необходимо указать идентификатор интерфейса.

**Поиск и устранение проблем в работе EtherChannel.**

including {1}, {2}, {3}, and {4}.Для проверки конфигурации EtherChannel доступно несколько команд, включая **show interfaces port-channel, show etherchannel summary, show etherchannel port-channel и show interfaces etherchannel**. К числу распространенных проблем EtherChannel относятся следующие:

- Назначенные порты в EtherChannel не являются частью одной VLAN или не настроены как транки. Порты с различными native VLAN не могут образовать EtherChannel.
- Транк был настроен на некоторых портах, которые составляют EtherChannel, но не на всех из них.
- Если диапазоны разрешённых VLAN не совпадают, порты не смогут сформировать EtherChannel даже при выборе auto или desirable режимов для PAgP.
- Параметры динамического согласования для PAgP и LACP не совместимы на обоих концах EtherChannel.

<!-- 6.4.4 Контрольная работа - Etherchannel -quiz -->



